# レシピ#4-6: Google Antigravityを試す（注意点付き）

## はじめに

Google Antigravityは2024年12月に発表された、AIエージェント機能を備えた次世代IDE(統合開発環境)です。

**しかし、2025年1月時点では、実用には重大な問題があります。**

このレシピでは、Antigravityの可能性と、現時点での問題点を正直に解説します。

## Antigravityとは？

Google Antigravityの特徴：

- **AIエージェント機能**: コード生成だけでなく、ファイル作成・編集・実行まで自動化
- **複数AIモデル対応**: Claude Sonnet 4.5、Gemini、GPT-OSS
- **ブラウザ統合**: ファイルシステムへの直接アクセス
- **マルチエージェント**: 複数のAIが協調して作業

**理想的には**、要件を伝えるだけで、AIが自律的にアプリを完成させる、という未来を目指しています。

## ⚠️ 重大な問題（2025年1月時点）

### 問題1: ファイルの破損・予期せぬ削除

**報告されている事例:**
- コードの一部または全部が削除される
- ファイルが破損して復元不可能になる
- 意図しない変更が大量に発生

**原因:**
- AIエージェントの判断が不安定
- 変更範囲の制御が不十分
- ロールバック機能が不完全

**実際のRedditコメント:**
> "it just delete a lot of code … does not make anything of what I asked for"
> "constantly corrupt code / broken files"

### 問題2: 破壊的な変更が頻発

**報告されている問題:**
- 小さな修正依頼でも大規模リファクタリングが走る
- ファイル構造を勝手に変更
- 依存関係を誤って修正
- 正常に動いていたコードを壊す

**Flutter開発での影響:**
- Widgetツリー構造が破壊される
- 状態管理が壊れる
- インポート文が壊れる
- pubspec.yamlが破損

### 問題3: まだ実験段階

**現状の評価:**
> "this isn't ready for prime time or even a beta."
> （本番環境どころか、ベータ版としても未完成）

**問題点:**
- 動作が不安定
- エラーメッセージが不明瞭
- ドキュメント不足
- コミュニティが未成熟

## ✅ それでも試したい場合の安全対策

### 必須の準備

1. **Git管理は絶対**
   ```bash
   git init
   git add .
   git commit -m "initial commit"
   ```

2. **重要なコードはバックアップ**
   - 別フォルダにコピー
   - クラウドストレージに保存
   - 頻繁にコミット

3. **小さなプロジェクトから始める**
   - 本番プロジェクトには使わない
   - 実験用の簡単なアプリで試す
   - 失っても問題ないコードで

4. **Claudeモデルを使用**
   - Geminiより安定
   - 破壊的変更が少ない
   - エラーが出にくい

### 使用時の注意点

1. **変更前に必ずコミット**
   ```bash
   git add .
   git commit -m "before antigravity change"
   ```

2. **変更を小さく分ける**
   - 一度に大きな変更を依頼しない
   - 段階的に確認しながら進める

3. **自動変更をすぐに確認**
   - AIが何を変更したか必ず確認
   - おかしな変更はすぐにrevert
   ```bash
   git diff  # 変更内容確認
   git restore .  # 取り消し
   ```

4. **重要なファイルは保護**
   - pubspec.yamlは特に注意
   - main.dartの全体書き換えに注意
   - 設定ファイルは手動管理

## Antigravityの設定（Claudeモデル使用）

1. Antigravityをダウンロード・インストール
2. モデル設定で**Claude Sonnet 4.5**を選択
3. エージェント機能の自動実行は**OFF**に
4. 変更前の確認プロンプトを**ON**に

## 現時点での結論

### ❌ 避けるべき用途

- 本番アプリの開発
- 大切なプロジェクト
- 学習の主軸ツール
- チーム開発

### △ 試す価値がある用途

- 技術実験
- プロトタイプ作成
- AIの可能性を体感
- 小さな個人プロジェクト

### ✅ 現時点で推奨

**Cursor + Claude** を使いましょう。

理由：
- 安定性が圧倒的に高い
- ファイル破損リスクが低い
- コミュニティが成熟
- ドキュメントが充実
- 学習コストが低い

## Antigravityの将来性

**長期的には有望:**
- AIエージェント機能は未来の方向性
- 自律的な開発は理想的
- マルチエージェントの可能性

**しかし現時点では:**
- 不安定すぎる
- リスクが高すぎる
- 学習には向かない

**推奨アプローチ:**
1. 今はCursor + Claudeで開発
2. Antigravityのアップデートを注視
3. 安定版がリリースされたら再検討
4. 技術的興味があれば実験用途で試す

## まとめ

### Google Antigravity（2025年1月時点）

**可能性:**
- 🌟 AIエージェント機能
- 🌟 自律的な開発
- 🌟 未来の方向性

**問題点:**
- ❌ ファイル破損・削除
- ❌ 破壊的変更が頻発
- ❌ まだ実験段階
- ❌ 本番開発には不向き

**推奨:**
- ✅ Cursor + Claudeを使う
- △ 実験用途なら試してもOK
- ⚠️ 必ずGit管理
- ⚠️ バックアップ必須

**重要なメッセージ:**
「Antigravityは素晴らしいビジョンを持っています。
しかし、現時点では実用レベルに達していません。
学習や本格的な開発には、安定したCursorを使いましょう。」

次のレシピでは、Cursorを使って実践的なTODOアプリを作ります。

➡️ **次のレシピへ:** [`07_building_todo_app.md`](./07_building_todo_app.md)
