# レシピ#1-2: AI開発ツールの導入

基本的なFlutter開発環境(キッチン)の準備が整いました。次に行うのは、私たちの学習と開発を劇的に加速させる**最新の開発ツール、すなわちAI**をキッチンに導入することです。

このCookbookでは、プログラミング初心者や学習者にとって最高の「教師」となりうる、以下のツールを中心に活用していきます。

1.  **Cursor:** AIコーディングエディタ - 実装の中心
2.  **Claude (Anthropic):** 最もFlutterと相性の良いAIモデル
3.  **Web版AIチャット:** 設計や仕様整理を助けてくれる「相談役」
4.  **Claude Code:** ターミナルやGitHubで使えるAI開発環境

## 1. Cursor: AIコーディングエディタ

Cursorは、AIが統合された次世代のコードエディタです。VS Codeをベースにしており、使い慣れた環境で強力なAI機能を利用できます。

### なぜCursorがFlutter開発に向いているのか？

1. **安定したコード生成**
   - ファイルの破損や予期せぬ変更が少ない
   - 既存コードの構造を尊重した修正
   - Flutter/Dartの構文理解が安定している

2. **コンテキスト理解**
   - プロジェクト全体を理解した上でコード生成
   - ファイル間の依存関係を正確に把握
   - 一貫性のあるコード提案

3. **エラー修正が速い**
   - エラーログを読んで自動修正
   - 依存関係の問題も解決
   - 初心者がつまずくポイントを解消

4. **UI構築の効率化**
   - Flutterのウィジェット構造を理解
   - Material DesignやCupertinoとの整合性
   - デザイン → コードへの変換

### 1-1. Cursorを始めよう

1. [Cursor](https://cursor.sh/)にアクセスします
2. ソフトウェアをダウンロードして、PCにインストールします
3. VS Codeの設定をインポートできます（既にVS Codeを使っている場合）

### 1-2. Cursorでの基本的な使い方

> **💡 学習プロンプト #1 (基本的なウィジェット)**
>
> ```
> Flutterの`Column`と`Row`ウィジェットの違いを、コード例付きで説明してください。
> 簡単なサンプルアプリも作成してください。
> ```

> **💡 学習プロンプト #2 (エラー修正)**
>
> ```
> このエラーを修正してください：
> [エラーメッセージをコピー＆ペースト]
> ```

## 2. Claude: Flutter開発に最適なAIモデル

**Claude (特にOpus 4.5)** は、2025年12月時点でFlutter開発に最も適したAIモデルです。

### なぜClaudeがFlutter開発で優れているのか？

1. **構造化コードの生成と再構成に強い**
   - Flutterのツリー構造の把握が得意
   - 大量ファイルにまたがる依存関係の理解
   - デザイン → コードの変換
   - 大規模リファクタリングの安定性

2. **説明が丁寧で一貫性がある**
   - なぜこの構造になるのか
   - なぜこの依存関係を選ぶのか
   - Flutter公式ガイドラインとの対応
   - バージョンの違いによる差異の説明

3. **長文の仕様 → コードが壊れにくい**
   - 仕様文を正確に読み取る
   - 矛盾を自動で解消
   - 一貫性を保った実装

4. **ファイルセット全体を見た上で修正**
   - 構成ファイルのズレ検出
   - インポートの整合性
   - 依存性注入の整理
   - Riverpod/Blocの粒度調整

5. **保守的で慎重なコード変更**
   - 必要な箇所だけを最小限に修正
   - 予期せぬ破壊的変更が少ない
   - ベストプラクティスに沿ったコード

### 2-1. Cursorでのモデル選択

Cursorでは使用するAIモデルを選択できます：

**推奨設定（2025年12月時点）：**
- **メインモデル:** Claude Opus 4.5（複雑なタスク・本格的な開発）
- **補助モデル:** Claude Sonnet 4.5（簡易な修正・小さなタスク）

### 他のモデルとの比較（2025年12月時点）

| モデル | コーディング安定性 | 大規模コード | Flutter/UI | 特徴 |
|--------|------------------|-------------|-----------|------|
| **Claude Opus 4.5** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 最高峰の理解力、複雑な実装に最適 |
| **Claude Sonnet 4.5** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 高速で安定、簡易タスクに最適 |
| **ChatGPT GPT-5.1** | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ | 速度は速いが最新Flutter機能に弱い |
| **Gemini 3 Pro** | ⭐⭐ | ⭐⭐ | ⭐ | アイデア出しは強いが実装は不安定 |

**重要な注意点：**
- **Gemini**: コーディングでは評判が良くない。書き換えが大きく、依存関係を壊しやすい。設計相談やアイデア出しには使えるが、実装には不向き。

## 3. Web版AIチャット: 補完的な相談役

Cursor内のAIモデルに加えて、Web版のAIチャットサービスも併用すると、より効果的な開発が可能です。

### 3-1. 推奨されるWeb版AIチャット

- [**Claude**](https://claude.ai/) - 設計整理やエラー解決に最適
- [**ChatGPT**](https://chat.openai.com/) - アイデア出しや概念理解に有用
- [**Google AI Studio**](https://aistudio.google.com/) - Geminiを使った開発（※コード生成は避ける）

### 3-2. 効果的な使い分け

**Cursor (Claude)を使う場面：**
- コード実装
- リファクタリング
- エラー修正
- UI構築

**Web版AIチャットを使う場面：**
- アプリのアイデア出し
- 設計の壁打ち
- 概念の理解（「状態管理とは？」など）
- エラーメッセージの解読

## 4. Claude Code: ターミナルで使えるAI開発環境

**Claude Code**は、Anthropic公式のCLIツールで、Claude Proの課金で利用できます。**2つの使い方**があります。

### 4-1. Claude Codeの2つの使い方

#### A. ターミナル版（CLI版）- ローカル開発

**特徴：**
- PCのターミナルから直接起動
- ローカルファイルを直接編集可能
- リアルタイムでコード実行・テスト
- Git操作も自分でコントロール

**使い方：**
```bash
# Claude Code CLIをインストール
npm install -g @anthropic-ai/claude-code

# プロジェクトディレクトリで起動
cd /path/to/your/flutter-project
claude-code

# Claudeと対話しながら開発
> ボタンウィジェットを追加してください
> このエラーを修正してください
```

**メリット：**
- ローカル環境で即座に実行・確認
- 自分のPCで完結
- Cursorと併用可能

**デメリット：**
- CLIのインストールが必要
- ターミナル操作に慣れる必要あり

#### B. GitHub連携版（Web版）- リモート開発

**特徴：**
- クラウド環境でリポジトリをクローン
- ファイルの直接編集が可能
- Git操作（コミット・プッシュ）を実行
- ブランチベースの開発
- 変更履歴を明確に管理
- Pull Requestでレビュー可能

**ファイルアップロード不要：**
- すでにリポジトリがクローン済み
- PCとの同期はGit経由
- クラウド環境で完結

### 4-2. GitHub連携版の開発ワークフロー

```
[Claude Code環境]
    ↓
1. ファイル編集・修正
    ↓
2. Gitコミット
    ↓
3. ブランチにプッシュ
    ↓
[あなたのPC]
    ↓
4. git pull または PR確認
```

### 4-3. それぞれの使い所

**ターミナル版が適している場面：**
- ローカル開発でAIの助けが欲しい
- 即座にコードを実行・確認したい
- Cursorの補完として使いたい
- コマンドライン操作に慣れている

**GitHub連携版が適している場面：**
- GitHubベースの開発
- リモートでのコード修正
- Pull Requestベースのレビュー
- チーム開発での協働

**GitHub連携版の注意点：**
- PC内のローカルファイルは直接編集不可
- Gitリポジトリが前提
- 変更は専用ブランチにプッシュされる

### 4-4. 実際の使用例

#### ターミナル版の例：

```bash
# プロジェクトで起動
cd ~/my-flutter-app
claude-code

# 対話例
You: カウンターアプリにリセットボタンを追加して
Claude: わかりました。main.dartを編集してリセットボタンを追加します...
[ファイルが編集される]

You: flutter run で動かして
Claude: flutter runを実行します...
[アプリが起動]

# その場で確認・修正が可能
```

#### GitHub連携版の例：

```
作業ディレクトリ: /home/user/cookbook
現在のブランチ: claude/github-todo-guidelines-xxxxx

# Claude Codeが実行
1. ファイルを編集
2. git commit -m "機能追加"
3. git push -u origin claude/github-todo-guidelines-xxxxx

# あなたが実行
git fetch origin
git checkout claude/github-todo-guidelines-xxxxx
# または GitHub上でPRを確認
```

### 4-5. 各ツールの使い分け

| ツール | 用途 | ローカル実行 | GitHub連携 | GUI/CLI |
|--------|------|------------|-----------|---------|
| **Cursor** | ローカル開発（GUI） | ⭐⭐⭐ | 手動 | GUI |
| **Claude Code（CLI版）** | ローカル開発（CLI） | ⭐⭐⭐ | 手動 | CLI |
| **Claude Code（GitHub連携版）** | リモート/PR開発 | - | ⭐⭐⭐ | Web |

**推奨：**
- **日常開発（GUI好き）:** Cursor（ローカル環境で即座に実行）
- **日常開発（CLI好き）:** Claude Code CLI版（ターミナルから対話）
- **GitHub Issue対応:** Claude Code GitHub連携版（ブランチ管理が明確）
- **レビュー依頼:** Claude Code GitHub連携版（PRベースで共有）
- **併用パターン:** Cursor + Claude Code CLI版（両方使い分け）

## 5. Google Antigravity について

**注意:** Google Antigravityは2025年11月に発表された新しいAI統合開発環境ですが、2025年12月時点では以下の問題が報告されています：

⚠️ **既知の問題：**
- ファイルの破損や予期せぬコード削除
- 破壊的な変更が頻発
- 依存関係の誤った修正
- まだ実験段階で本番開発には不向き

**結論:** 学習やプロトタイプ作成での実験は可能ですが、**メインの開発環境としてはCursorを推奨します**。

もしAntigravityを試す場合は：
- モデルにClaudeを使用（かなり実用レベルに近づく）
- 必ずGit管理する
- 重要コードはバックアップ
- 小さなプロトタイプから始める

## 6. 実践的な開発フロー

### 推奨される開発環境構成

**メイン開発:**
```
Cursor (エディタ)
  ↓
Claude Sonnet 4.5 (AIモデル)
  ↓
Flutter プロジェクト
```

**補助ツール:**
- Web版Claude: 設計相談、アーキテクチャ検討
- ChatGPT: アイデア出し、概念理解
- Google AI Studio: 情報収集（※コード生成は避ける）

### 学習のコツ

1. **小さく始める**
   - 最初は簡単なウィジェットから
   - 徐々に複雑な機能に挑戦

2. **AIを「教師」として使う**
   - 分からないことは遠慮なく質問
   - コードの説明を求める
   - なぜそうなるのか理由を聞く

3. **コードを読んで理解する**
   - AIが生成したコードを必ず読む
   - 理解できない部分は説明を求める
   - コピー＆ペーストだけで終わらない

4. **エラーを恐れない**
   - エラーは学習の機会
   - エラーメッセージをAIに見せて解決
   - 同じエラーの原因を理解する

## まとめ

これで、あなたの開発環境(キッチン)には、強力なAI開発ツールが揃いました。

**最適な構成:**
- **メイン開発環境:** Cursor + Claude Sonnet 4.5（GUI派）
- **ターミナル開発:** Claude Code CLI版（CLI派）
- **GitHub連携開発:** Claude Code GitHub連携版（リモート/PR開発）
- **補完的な相談:** Web版AIチャット（Claude、ChatGPT）
- **避けるべき:** Geminiでのコード生成、不安定なAntigravity（現時点）

**開発スタイル別の推奨:**
- **GUI好き:** Cursor
- **CLI好き:** Claude Code CLI版
- **両方使いたい:** Cursor + Claude Code CLI版を併用
- **チーム開発:** Claude Code GitHub連携版でPR管理

この構成は、プログラミング学習において、あなたの成長を強力にサポートしてくれます。分からないことを恐れずに、どんどんAIに質問してみましょう。

**次のステップ:** 実際にFlutterアプリを作成してみましょう。

➡️ **次のレシピへ:** [`03_creating_first_app.md`](./03_creating_first_app.md)
