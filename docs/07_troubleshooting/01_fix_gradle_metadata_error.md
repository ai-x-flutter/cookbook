# ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒˆ#7-1: `Could not read workspace metadata` ã‚¨ãƒ©ãƒ¼ã‚’è§£æ±ºã™ã‚‹

Flutterã§Androidã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã„ã‚‹ã¨ã€çªç„¶ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ã«é­é‡ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

```
FAILURE: Build failed with an exception.
...
* What went wrong:
Could not read workspace metadata from C:\Users\YourUser\.gradle\caches\8.x\transforms\xxxxx\metadata.bin
```

ã“ã®ã‚¨ãƒ©ãƒ¼ã¯éžå¸¸ã«é•·ãã€ä¸€è¦‹ã™ã‚‹ã¨ä½•ãŒæ‚ªã„ã®ã‹åˆ†ã‹ã‚Šã«ãã„ã§ã™ãŒã€ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚åŽŸå› ã¯ã»ã¨ã‚“ã©ã®å ´åˆã€ä¸€ã¤ã§ã™ã€‚

## åŽŸå› ï¼šGradleã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ç ´æ

*   **ä½•ãŒèµ·ãã¦ã„ã‚‹ã‹ï¼Ÿ**
    FlutterãŒAndroidã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹éš›ã«ã¯ã€**Gradle**ã¨ã„ã†ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ãŒä½¿ã‚ã‚Œã¾ã™ã€‚Gradleã¯ãƒ“ãƒ«ãƒ‰ã‚’é«˜é€ŸåŒ–ã™ã‚‹ãŸã‚ã«ã€ä¸€åº¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©ã®æƒ…å ±ã‚’PCå†…ã®ä¸€æ™‚ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ**ã‚­ãƒ£ãƒƒã‚·ãƒ¥**ï¼‰ã«ä¿å­˜ã—ã¾ã™ã€‚

*   **ãªãœå£Šã‚Œã‚‹ã®ã‹ï¼Ÿ**
    PCã®å¼·åˆ¶çµ‚äº†ã€ãƒ“ãƒ«ãƒ‰ä¸­ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ‡æ–­ã€ã‚ã‚‹ã„ã¯å˜ãªã‚‹ä¸é‹ãªã©ã€ä½•ã‚‰ã‹ã®ç†ç”±ã§ã“ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ã‚¡ã‚¤ãƒ«ãŒä¸­é€”åŠç«¯ãªçŠ¶æ…‹ã§ä¿å­˜ã•ã‚Œã¦ã—ã¾ã†ã¨ã€ãƒ•ã‚¡ã‚¤ãƒ«ãŒ**ç ´æ**ã—ã¾ã™ã€‚

*   **ã‚¨ãƒ©ãƒ¼ã®æ„å‘³:**
    ã€Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚ã‚‹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆ`metadata.bin`ï¼‰ã‚’èª­ã‚‚ã†ã¨ã—ãŸã‘ã©ã€ãƒ•ã‚¡ã‚¤ãƒ«ãŒå£Šã‚Œã¦ã¦èª­ã‚ã¾ã›ã‚“ï¼ã€ã¨ã„ã†ã®ãŒã€ã“ã®é•·ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ„è¨³ã§ã™ã€‚

## è§£æ±ºç­–ï¼šã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å‰Šé™¤ã—ã¦å†ç”Ÿæˆã•ã›ã‚‹

è§£æ±ºç­–ã¯éžå¸¸ã«ã‚·ãƒ³ãƒ—ãƒ«ã§ã™ã€‚**ã€Œç ´æã—ãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã™ã‚‹ã€**ã ã‘ã§ã™ã€‚
ã“ã®æ“ä½œã¯å®Œå…¨ã«å®‰å…¨ã§ã™ã€‚ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯æ¬¡å›žãƒ“ãƒ«ãƒ‰æ™‚ã«ã€å¿…è¦ãªã‚‚ã®ãŒã™ã¹ã¦è‡ªå‹•ã§å†ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚

### Step 1: `flutter clean` ã‚’å®Ÿè¡Œã™ã‚‹ (ãŠã¾ã˜ãªã„)

ã¾ãšã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®å¤ã„ãƒ“ãƒ«ãƒ‰æƒ…å ±ã‚’æŽƒé™¤ã—ã¾ã™ã€‚

1.  ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã€ã‚ãªãŸã®Flutterãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã¾ã™ã€‚
2.  ä»¥ä¸‹ã®ã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
    ```bash
    flutter clean
    ```

### Step 2: Gradleã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å‰Šé™¤ã™ã‚‹ (æœ¬å‘½ã®è§£æ±ºç­–)

ã“ã‚ŒãŒä»Šå›žã®ã‚¨ãƒ©ãƒ¼ã«å¯¾ã™ã‚‹æœ€ã‚‚ç›´æŽ¥çš„ã§åŠ¹æžœçš„ãªè§£æ±ºç­–ã§ã™ã€‚

ãŠä½¿ã„ã®OSã«åˆã‚ã›ã¦ã€ä»¥ä¸‹ã®æ‰‹é †ã§`.gradle`ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«ã‚ã‚‹**`caches`**ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚

---
#### **Windowsã®å ´åˆ**

ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã«ä»¥ä¸‹ã‚’è²¼ã‚Šä»˜ã‘ã¦Enterã‚­ãƒ¼ã‚’æŠ¼ã—ã€`.gradle`ãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‹ãã¾ã™ã€‚
```
%USERPROFILE%\.gradle
```
ãã®ä¸­ã«ã‚ã‚‹`caches`ãƒ•ã‚©ãƒ«ãƒ€ã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‰Šé™¤ã—ã¾ã™ã€‚

---
#### **macOS / Linuxã®å ´åˆ**

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã®ã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
```bash
# ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹.gradleãƒ•ã‚©ãƒ«ãƒ€å†…ã®cachesãƒ•ã‚©ãƒ«ãƒ€ã‚’ã€å†å¸°çš„ã«(-r)å¼·åˆ¶çš„ã«(-f)å‰Šé™¤ã™ã‚‹
rm -rf ~/.gradle/caches
```
---

### Step 3: å†åº¦ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹

ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å‰Šé™¤ãŒå®Œäº†ã—ãŸã‚‰ã€ã‚‚ã†ä¸€åº¦ã‚¢ãƒ—ãƒªã®ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

```bash
flutter run
```

**ã€é‡è¦ã€‘**
ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å‰Šé™¤ã—ãŸå¾Œã®**åˆå›žãƒ“ãƒ«ãƒ‰ã¯ã€é€šå¸¸ã‚ˆã‚Šã‚‚ã‹ãªã‚Šæ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚**
ã“ã‚Œã¯ã€GradleãŒå¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã™ã¹ã¦ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‹ã‚‰å†ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã§ã™ã€‚PCã®ã‚¹ãƒšãƒƒã‚¯ã‚„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã«ã‚ˆã£ã¦ã¯5åˆ†ï½ž15åˆ†ä»¥ä¸Šã‹ã‹ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ãŒã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®ãƒ­ã‚°ãŒæµã‚Œã¦ã„ã‚Œã°æ­£å¸¸ã«é€²ã‚“ã§ã„ã¾ã™ã€‚è¾›æŠ±å¼·ãå¾…ã£ã¦ãã ã•ã„ã€‚

ç„¡äº‹ã«ãƒ“ãƒ«ãƒ‰ãŒå®Œäº†ã™ã‚Œã°ã€å•é¡Œè§£æ±ºã§ã™ï¼

> **ðŸ¤– AIæ´»ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ (ä»–ã®ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã®è§£æž)**
>
> ã‚‚ã—åˆ¥ã®ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã«é­é‡ã—ãŸã‚‰ã€ãã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’AIã«æŠ•ã’ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
> ```
> ã‚ãªãŸã¯Flutterã¨Androidãƒ“ãƒ«ãƒ‰ã«éžå¸¸ã«è©³ã—ã„ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã§ã™ã€‚
>
> Flutterã‚¢ãƒ—ãƒªã®ãƒ“ãƒ«ãƒ‰ä¸­ã«ã€ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚
>
> ```
> (ã“ã“ã«ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«è¡¨ç¤ºã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã™ã¹ã¦è²¼ã‚Šä»˜ã‘ã‚‹)
> ```
>
> ã“ã®ã‚¨ãƒ©ãƒ¼ã®ä¸»ãªåŽŸå› ã¯ä½•ã ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ã‹ï¼Ÿã¾ãŸã€è§£æ±ºã™ã‚‹ãŸã‚ã®å…·ä½“çš„ãªã‚¹ãƒ†ãƒƒãƒ—ã‚’åˆå¿ƒè€…ã«ã§ã‚‚åˆ†ã‹ã‚‹ã‚ˆã†ã«æ•™ãˆã¦ãã ã•ã„ã€‚
> ```